<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØªØ·ÙˆØ¹ Ø§Ù„Ù‡Ù„Ø§Ù„ Ø§Ù„Ø£Ø­Ù…Ø± - Ù…Ø­Ø§ÙØ¸Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Recharts for charts -->
    <script src="https://unpkg.com/recharts@2.8.0/umd/Recharts.js"></script>
    
    <!-- Lucide React Icons -->
    <script src="https://unpkg.com/lucide-react@latest/dist/umd/lucide-react.js"></script>

    <style>
        :root {
            --red-crescent: #E4002B;
            --red-crescent-dark: #c00024;
            font-synthesis: none;
            text-rendering: optimizeLegibility;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            font-family: 'Cairo', 'Inter', system-ui, -apple-system, sans-serif;
            direction: rtl;
        }

        .text-red-crescent {
            color: var(--red-crescent);
        }

        .bg-red-crescent {
            background-color: var(--red-crescent);
        }

        .border-red-crescent {
            border-color: var(--red-crescent);
        }

        .recharts-wrapper {
            direction: ltr;
        }

        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }

        /* Custom animations */
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .animate-spin {
            animation: spin 1s linear infinite;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { 
            Home, Upload, AlertTriangle, Users, LogOut, User, ArrowRight, 
            Download, Trash2, Calendar, FileText, CheckCircle, AlertCircle, 
            BarChart3, Eye, Clock, RefreshCw, Building, TrendingUp, MapPin, 
            Tag, Send, Edit, Plus, Shield, ChevronDown, ChevronRight
        } = lucideReact;
        
        const {
            BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, 
            PieChart, Pie, Cell, Legend
        } = Recharts;

        // Mock API functions
        const mockAPI = {
            async getCurrentStatistics() {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        resolve({
                            success: true,
                            data: {
                                upload_date: new Date().toISOString(),
                                month: new Date().getMonth() + 1,
                                year: new Date().getFullYear(),
                                total_volunteers: 2450,
                                data: {
                                    'Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©': {
                                        totalVolunteers: 1250,
                                        data: [
                                            { name: 'Ø§Ù„Ù…Ø¬Ø§Ù„ Ø§Ù„Ø§Ø³Ø¹Ø§ÙÙŠ', value: 320 },
                                            { name: 'Ø§Ù„ØªØ¹Ù„ÙŠÙ…', value: 280 },
                                            { name: 'Ø§Ù„Ø¨ÙŠØ¦Ø©', value: 210 },
                                            { name: 'Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø§Øª Ø§Ù„Ø§Ù†Ø³Ø§Ù†ÙŠØ©', value: 180 },
                                            { name: 'Ø§Ù„Ø§Ø¯Ø§Ø±ÙŠ', value: 150 },
                                            { name: 'Ø§Ù„Ø¥Ø¹Ù„Ø§Ù…ÙŠ', value: 110 }
                                        ],
                                        details: [
                                            { opportunity_number: "VOL-001", opportunity_type: "Ø­Ù…Ù„Ø© ØªØ·ÙˆØ¹ÙŠØ©", city: "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", start_date: "2024-01-15" }
                                        ]
                                    },
                                    'Ø§Ù„Ø¹Ù„Ø§': {
                                        totalVolunteers: 380,
                                        data: [
                                            { name: 'Ø§Ù„Ù…Ø¬Ø§Ù„ Ø§Ù„Ø§Ø³Ø¹Ø§ÙÙŠ', value: 140 },
                                            { name: 'Ø§Ù„ØªØ¹Ù„ÙŠÙ…', value: 110 },
                                            { name: 'Ø§Ù„Ø¨ÙŠØ¦Ø©', value: 80 },
                                            { name: 'Ø§Ù„Ø§Ø¯Ø§Ø±ÙŠ', value: 50 }
                                        ],
                                        details: []
                                    },
                                    'ÙŠÙ†Ø¨Ø¹': {
                                        totalVolunteers: 420,
                                        data: [
                                            { name: 'Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø§Øª Ø§Ù„Ø§Ù†Ø³Ø§Ù†ÙŠØ©', value: 150 },
                                            { name: 'Ø§Ù„Ø§Ø¯Ø§Ø±ÙŠ', value: 120 },
                                            { name: 'Ø§Ù„Ø¥Ø¹Ù„Ø§Ù…ÙŠ', value: 90 },
                                            { name: 'Ø§Ù„Ù…Ø¬Ø§Ù„ Ø§Ù„Ø§Ø³Ø¹Ø§ÙÙŠ', value: 60 }
                                        ],
                                        details: []
                                    }
                                }
                            }
                        });
                    }, 1000);
                });
            }
        };

        // UI Components
        const Button = ({ children, variant = 'default', size = 'default', className = '', disabled = false, onClick, type = 'button', ...props }) => {
            const baseClasses = 'inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none';
            
            const variants = {
                default: 'bg-red-600 text-white hover:bg-red-700',
                outline: 'border border-gray-300 bg-white text-gray-700 hover:bg-gray-50',
                ghost: 'hover:bg-gray-100 text-gray-700',
                destructive: 'bg-red-600 text-white hover:bg-red-700',
                secondary: 'bg-gray-100 text-gray-900 hover:bg-gray-200'
            };
            
            const sizes = {
                default: 'h-10 py-2 px-4',
                sm: 'h-9 px-3 rounded-md',
                lg: 'h-11 px-8 rounded-md'
            };
            
            const classes = `${baseClasses} ${variants[variant]} ${sizes[size]} ${className}`;
            
            return React.createElement('button', {
                type,
                className: classes,
                disabled,
                onClick,
                ...props
            }, children);
        };

        const Card = ({ children, className = '', ...props }) => {
            return React.createElement('div', {
                className: `rounded-lg border border-gray-200 bg-white shadow-sm ${className}`,
                ...props
            }, children);
        };

        const CardHeader = ({ children, className = '', ...props }) => {
            return React.createElement('div', {
                className: `flex flex-col space-y-1.5 p-6 ${className}`,
                ...props
            }, children);
        };

        const CardTitle = ({ children, className = '', ...props }) => {
            return React.createElement('h3', {
                className: `text-lg font-semibold leading-none tracking-tight ${className}`,
                ...props
            }, children);
        };

        const CardContent = ({ children, className = '', ...props }) => {
            return React.createElement('div', {
                className: `p-6 pt-0 ${className}`,
                ...props
            }, children);
        };

        // Logo Component
        const Logo = ({ size = 'md', showText = true }) => {
            const sizeClasses = {
                sm: 'w-8 h-8',
                md: 'w-12 h-12',
                lg: 'w-16 h-16',
                xl: 'w-20 h-20'
            };

            const textSizes = {
                sm: 'text-xs',
                md: 'text-sm',
                lg: 'text-base',
                xl: 'text-lg'
            };

            return React.createElement('div', { className: 'flex items-center gap-3' },
                React.createElement('div', {
                    className: `${sizeClasses[size]} bg-gradient-to-br from-red-600 to-red-700 rounded-full flex items-center justify-center overflow-hidden shadow-lg`
                },
                    React.createElement('span', { className: 'text-white font-bold text-lg' }, 'ğŸŒ™')
                ),
                showText && React.createElement('div', null,
                    React.createElement('h1', { className: `font-bold text-gray-900 ${textSizes[size]}` }, 'Ø§Ù„Ù‡Ù„Ø§Ù„ Ø§Ù„Ø£Ø­Ù…Ø± Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ'),
                    React.createElement('p', { className: `text-gray-600 ${size === 'sm' ? 'text-xs' : 'text-xs'}` }, 'Ù…Ø­Ø§ÙØ¸Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©')
                )
            );
        };

        // Header Component
        const Header = ({ user, onLogout, version }) => {
            return React.createElement('header', {
                className: 'fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200 shadow-sm'
            },
                React.createElement('div', { className: 'flex items-center justify-between px-6 py-4' },
                    React.createElement('div', null,
                        React.createElement('h1', { className: 'text-xl font-bold text-gray-900' }, 'Ù…Ù†ØµØ© Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØªØ·ÙˆØ¹ Ø§Ù„Ù‡Ù„Ø§Ù„ Ø§Ù„Ø£Ø­Ù…Ø±'),
                        React.createElement('p', { className: 'text-sm text-gray-600' }, 'Ù…Ø­Ø§ÙØ¸Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©')
                    ),
                    React.createElement('div', { className: 'flex items-center space-x-4 space-x-reverse' },
                        React.createElement('div', { className: 'flex items-center space-x-2 space-x-reverse text-sm' },
                            React.createElement(User, { className: 'h-4 w-4 text-gray-500' }),
                            React.createElement('span', { className: 'text-gray-700' }, user.name),
                            React.createElement('span', { className: 'text-gray-500' }, `(${user.role})`)
                        ),
                        React.createElement('button', {
                            onClick: onLogout,
                            className: 'flex items-center space-x-2 space-x-reverse px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md transition-colors'
                        },
                            React.createElement(LogOut, { className: 'h-4 w-4' }),
                            React.createElement('span', null, 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬')
                        ),
                        React.createElement('div', { className: 'border-r border-gray-200 pr-4 mr-4' },
                            React.createElement(Logo, { size: 'md', showText: false })
                        )
                    )
                )
            );
        };

        // Sidebar Component
        const Sidebar = ({ userRole, currentView, onViewChange }) => {
            const menuItems = [
                {
                    id: 'dashboard',
                    label: 'Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©',
                    icon: Home,
                    roles: ['explorer', 'manager', 'tech_admin', 'digital_admin'],
                    description: 'Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø©'
                },
                {
                    id: 'fileUpload',
                    label: 'Ø±ÙØ¹ Ù…Ù„ÙØ§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª',
                    icon: Upload,
                    roles: ['manager', 'tech_admin', 'digital_admin'],
                    description: 'Ø±ÙØ¹ ÙˆØ¥Ø¯Ø§Ø±Ø© Ù…Ù„ÙØ§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
                    adminOnly: true
                },
                {
                    id: 'technicalIssues',
                    label: 'Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØªÙ‚Ù†ÙŠØ©',
                    icon: AlertTriangle,
                    roles: ['explorer', 'manager', 'tech_admin', 'digital_admin'],
                    description: 'Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù† Ø§Ù„Ù…Ø´Ø§ÙƒÙ„'
                },
                {
                    id: 'accounts',
                    label: 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª',
                    icon: Users,
                    roles: ['digital_admin'],
                    description: 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª',
                    adminOnly: true
                }
            ];

            const visibleItems = menuItems.filter(item => item.roles.includes(userRole));

            const getRoleLabel = (role) => {
                const labels = {
                    explorer: 'Ù…Ø³ØªÙƒØ´Ù',
                    manager: 'Ù…Ø¯ÙŠØ±',
                    tech_admin: 'Ø¥Ø¯Ø§Ø±ÙŠ ØªÙ‚Ù†ÙŠ',
                    digital_admin: 'Ø¥Ø¯Ø§Ø±Ø© Ø±Ù‚Ù…ÙŠØ©'
                };
                return labels[role] || role;
            };

            const getRoleColor = (role) => {
                const colors = {
                    explorer: 'bg-blue-100 text-blue-800',
                    manager: 'bg-green-100 text-green-800',
                    tech_admin: 'bg-yellow-100 text-yellow-800',
                    digital_admin: 'bg-red-100 text-red-800'
                };
                return colors[role] || 'bg-gray-100 text-gray-800';
            };

            return React.createElement('aside', {
                className: 'fixed top-16 right-0 bottom-10 w-72 bg-gradient-to-b from-white to-gray-50 border-l border-gray-200 shadow-lg overflow-y-auto'
            },
                React.createElement('div', { className: 'p-4 border-b border-gray-200 bg-white' },
                    React.createElement('div', { className: 'flex items-center gap-3' },
                        React.createElement('div', { className: 'p-2 bg-red-100 rounded-lg' },
                            React.createElement(Shield, { className: 'h-5 w-5 text-red-600' })
                        ),
                        React.createElement('div', null,
                            React.createElement('div', { className: 'text-sm font-medium text-gray-800' }, 'ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'),
                            React.createElement('div', { className: `text-xs px-2 py-1 rounded-full font-medium ${getRoleColor(userRole)}` }, getRoleLabel(userRole))
                        )
                    )
                ),
                React.createElement('nav', { className: 'p-4' },
                    React.createElement('div', { className: 'mb-4' },
                        React.createElement('h3', { className: 'text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3' }, 'Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©')
                    ),
                    React.createElement('ul', { className: 'space-y-2' },
                        visibleItems.map((item) => {
                            const Icon = item.icon;
                            const isActive = currentView === item.id;
                            
                            return React.createElement('li', { key: item.id },
                                React.createElement('button', {
                                    onClick: () => onViewChange(item.id),
                                    className: `w-full group relative overflow-hidden rounded-xl transition-all duration-200 ${
                                        isActive
                                            ? 'bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg transform scale-105'
                                            : 'text-gray-700 hover:bg-gray-100 hover:shadow-md'
                                    }`
                                },
                                    React.createElement('div', { className: 'flex items-center space-x-3 space-x-reverse px-4 py-4' },
                                        React.createElement('div', {
                                            className: `p-2 rounded-lg transition-colors ${
                                                isActive ? 'bg-white bg-opacity-20' : 'bg-gray-100 group-hover:bg-gray-200'
                                            }`
                                        },
                                            React.createElement(Icon, { className: 'h-5 w-5' })
                                        ),
                                        React.createElement('div', { className: 'flex-1 text-right' },
                                            React.createElement('div', { className: 'font-medium text-sm' }, item.label),
                                            React.createElement('div', {
                                                className: `text-xs mt-1 ${isActive ? 'text-red-100' : 'text-gray-500'}`
                                            }, item.description)
                                        ),
                                        item.adminOnly && React.createElement('div', {
                                            className: `text-xs px-2 py-1 rounded-full font-medium ${
                                                isActive ? 'bg-white bg-opacity-20 text-white' : 'bg-orange-100 text-orange-600'
                                            }`
                                        }, 'Ø¥Ø¯Ø§Ø±ÙŠ')
                                    ),
                                    isActive && React.createElement('div', { className: 'absolute left-0 top-0 bottom-0 w-1 bg-white bg-opacity-50' })
                                )
                            );
                        })
                    )
                )
            );
        };

        // Login Component
        const Login = ({ onLogin, version }) => {
            const [email, setEmail] = useState('');
            const [captchaAnswer, setCaptchaAnswer] = useState('');
            const [captchaQuestion, setCaptchaQuestion] = useState('');
            const [correctAnswer, setCorrectAnswer] = useState(0);
            const [error, setError] = useState('');

            const generateCaptcha = () => {
                const num1 = Math.floor(Math.random() * 10) + 1;
                const num2 = Math.floor(Math.random() * 10) + 1;
                const operators = ['+', '-', 'Ã—'];
                const operator = operators[Math.floor(Math.random() * operators.length)];
                
                let question, answer;
                
                switch(operator) {
                    case '+':
                        question = `${num1} + ${num2} = ?`;
                        answer = num1 + num2;
                        break;
                    case '-':
                        if (num1 >= num2) {
                            question = `${num1} - ${num2} = ?`;
                            answer = num1 - num2;
                        } else {
                            question = `${num2} - ${num1} = ?`;
                            answer = num2 - num1;
                        }
                        break;
                    case 'Ã—':
                        question = `${num1} Ã— ${num2} = ?`;
                        answer = num1 * num2;
                        break;
                    default:
                        question = `${num1} + ${num2} = ?`;
                        answer = num1 + num2;
                }
                
                setCaptchaQuestion(question);
                setCorrectAnswer(answer);
                setCaptchaAnswer('');
            };

            useEffect(() => {
                generateCaptcha();
            }, []);

            const handleSubmit = (e) => {
                e.preventDefault();
                setError('');

                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email)) {
                    setError('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØµØ­ÙŠØ­');
                    return;
                }

                if (parseInt(captchaAnswer) !== correctAnswer) {
                    setError('Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ØºÙŠØ± ØµØ­ÙŠØ­Ø©. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
                    generateCaptcha();
                    return;
                }

                let role = 'explorer';
                let name = email.split('@')[0];
                
                if (email.includes('digital') || email.includes('admin')) {
                    role = 'digital_admin';
                    name = 'Ù…Ø¯ÙŠØ± Ø±Ù‚Ù…ÙŠ';
                } else if (email.includes('tech')) {
                    role = 'tech_admin';
                    name = 'Ø¥Ø¯Ø§Ø±ÙŠ ØªÙ‚Ù†ÙŠ';
                } else if (email.includes('manager')) {
                    role = 'manager';
                    name = 'Ù…Ø¯ÙŠØ±';
                }

                onLogin(email, role);
            };

            return React.createElement('div', { className: 'min-h-screen bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center p-4' },
                React.createElement(Card, { className: 'w-full max-w-md' },
                    React.createElement(CardHeader, { className: 'text-center bg-red-600 text-white rounded-t-lg' },
                        React.createElement('div', { className: 'w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4' },
                            React.createElement('span', { className: 'text-2xl font-bold' }, 'ğŸŒ™')
                        ),
                        React.createElement(CardTitle, { className: 'text-xl mb-2' }, 'Ù…Ù†ØµØ© Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø©'),
                        React.createElement('p', { className: 'text-red-100 text-sm' }, 'Ù„ØªØ·ÙˆØ¹ Ø§Ù„Ù‡Ù„Ø§Ù„ Ø§Ù„Ø£Ø­Ù…Ø± - Ù…Ø­Ø§ÙØ¸Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©')
                    ),
                    React.createElement(CardContent, { className: 'p-6' },
                        React.createElement('form', { onSubmit: handleSubmit, className: 'space-y-4' },
                            React.createElement('div', null,
                                React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-2' }, 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ'),
                                React.createElement('div', { className: 'relative' },
                                    React.createElement('input', {
                                        type: 'email',
                                        value: email,
                                        onChange: (e) => setEmail(e.target.value),
                                        className: 'w-full pr-10 pl-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500',
                                        placeholder: 'Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',
                                        required: true
                                    })
                                ),
                                React.createElement('p', { className: 'text-xs text-gray-500 mt-1' }, 'Ù…Ø«Ø§Ù„: user@example.com')
                            ),
                            React.createElement('div', null,
                                React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-2' }, 'Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ'),
                                React.createElement('div', { className: 'bg-gray-50 rounded-lg p-4 text-center' },
                                    React.createElement('div', { className: 'flex items-center justify-center space-x-2 space-x-reverse mb-3' },
                                        React.createElement('span', { className: 'text-lg font-bold text-gray-800' }, captchaQuestion),
                                        React.createElement('button', {
                                            type: 'button',
                                            onClick: generateCaptcha,
                                            className: 'text-red-600 hover:text-red-700'
                                        },
                                            React.createElement(RefreshCw, { className: 'h-5 w-5' })
                                        )
                                    ),
                                    React.createElement('input', {
                                        type: 'number',
                                        value: captchaAnswer,
                                        onChange: (e) => setCaptchaAnswer(e.target.value),
                                        className: 'w-20 text-center py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500 focus:border-red-500',
                                        placeholder: '?',
                                        required: true
                                    })
                                )
                            ),
                            error && React.createElement('div', { className: 'p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm' }, error),
                            React.createElement(Button, { type: 'submit', className: 'w-full bg-red-600 hover:bg-red-700' }, 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„')
                        ),
                        React.createElement('div', { className: 'text-center mt-6' },
                            React.createElement('p', { className: 'text-xs text-gray-500' }, `${version} - Ù…Ù†ØµØ© Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØªØ·ÙˆØ¹ Ø§Ù„Ù‡Ù„Ø§Ù„ Ø§Ù„Ø£Ø­Ù…Ø±`)
                        )
                    )
                )
            );
        };

        // CityCard Component
        const CityCard = ({ city, cityData, onCitySelect }) => {
            const handleCityClick = (e) => {
                e.preventDefault();
                e.stopPropagation();
                
                if (onCitySelect && typeof onCitySelect === 'function') {
                    onCitySelect(city, cityData.details || []);
                }
            };

            return React.createElement(Card, {
                className: 'cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105 border-2 hover:border-red-200',
                onClick: handleCityClick
            },
                React.createElement(CardContent, { className: 'p-6 text-center' },
                    React.createElement('div', { className: 'mb-4 flex justify-center' },
                        cityData.totalVolunteers > 0 
                            ? React.createElement('div', { className: 'w-24 h-24 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center text-white font-bold text-2xl shadow-lg' }, cityData.totalVolunteers)
                            : React.createElement('div', { className: 'w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold border-2 border-dashed border-gray-300' }, '0')
                    ),
                    React.createElement('h3', { className: 'text-lg font-semibold text-gray-800 mb-3' }, city),
                    React.createElement('div', { className: 'space-y-2' },
                        React.createElement('div', { className: 'flex items-center justify-center gap-2 text-sm text-gray-600' },
                            React.createElement(Users, { className: 'h-4 w-4' }),
                            React.createElement('span', null, `Ø§Ù„Ù…ØªØ·ÙˆØ¹ÙˆÙ†: ${cityData.totalVolunteers}`)
                        ),
                        React.createElement('div', { className: 'flex items-center justify-center gap-2 text-sm text-gray-600' },
                            React.createElement(BarChart3, { className: 'h-4 w-4' }),
                            React.createElement('span', null, `Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª: ${cityData.categories?.filter(cat => cat.value > 0).length || 0}`)
                        )
                    ),
                    cityData.totalVolunteers > 0 && React.createElement('div', { className: 'mt-4 px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium' }, 'Ø§Ù†Ù‚Ø± Ù„Ù„ØªÙØ§ØµÙŠÙ„')
                )
            );
        };

        // LastUpdateTracker Component
        const LastUpdateTracker = ({ lastUpdate, totalVolunteers, period, isLoading }) => {
            const formatDate = (dateString) => {
                if (!dateString) return 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
                
                try {
                    const date = new Date(dateString);
                    return date.toLocaleDateString('ar-SA', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    });
                } catch (error) {
                    return 'ØªØ§Ø±ÙŠØ® ØºÙŠØ± ØµØ§Ù„Ø­';
                }
            };

            if (isLoading) {
                return React.createElement('div', { className: 'bg-blue-50 p-4 rounded-lg inline-block mb-6' },
                    React.createElement('div', { className: 'flex items-center gap-2' },
                        React.createElement(RefreshCw, { className: 'h-4 w-4 text-blue-600 animate-spin' }),
                        React.createElement('p', { className: 'text-blue-800' }, 'Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª...')
                    )
                );
            }

            if (!lastUpdate) {
                return React.createElement('div', { className: 'bg-blue-50 p-4 rounded-lg inline-block mb-6' },
                    React.createElement('div', { className: 'flex items-center gap-2' },
                        React.createElement(Calendar, { className: 'h-4 w-4 text-blue-600' }),
                        React.createElement('p', { className: 'text-blue-800' }, 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹. ÙŠØ±Ø¬Ù‰ Ø±ÙØ¹ Ù…Ù„Ù Excel Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.')
                    )
                );
            }

            return React.createElement('div', { className: 'bg-green-50 p-4 rounded-lg inline-block mb-6 border border-green-200' },
                React.createElement('div', { className: 'flex items-center gap-3' },
                    React.createElement(Clock, { className: 'h-5 w-5 text-green-600' }),
                    React.createElement('div', { className: 'text-green-800' },
                        React.createElement('div', { className: 'flex items-center gap-4 flex-wrap' },
                            React.createElement('span', null,
                                React.createElement('strong', null, 'Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: '),
                                formatDate(lastUpdate)
                            ),
                            period && React.createElement('span', null,
                                React.createElement('strong', null, 'Ø§Ù„ÙØªØ±Ø©: '),
                                period
                            ),
                            totalVolunteers && React.createElement('span', null,
                                React.createElement('strong', null, 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØªØ·ÙˆØ¹ÙŠÙ†: '),
                                React.createElement('span', { className: 'font-bold ml-1' }, totalVolunteers.toLocaleString('ar-SA'))
                            )
                        )
                    )
                )
            );
        };

        // Dashboard Component
        const Dashboard = ({ onCitySelect, statisticsData, userRole, isLoading }) => {
            const [currentStatistics, setCurrentStatistics] = useState(null);
            const [loading, setLoading] = useState(true);

            const cities = [
                'Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©', 'Ø§Ù„Ø¹Ù„Ø§', 'ÙŠÙ†Ø¨Ø¹', 'Ø§Ù„Ø­Ù†Ø§ÙƒÙŠØ©', 'Ù…Ù‡Ø¯ Ø§Ù„Ø°Ù‡Ø¨', 'Ø¨Ø¯Ø±', 'Ø®ÙŠØ¨Ø±', 'ÙˆØ§Ø¯ÙŠ Ø§Ù„ÙØ±Ø¹', 'Ø§Ù„Ø¹ÙŠØµ'
            ];

            const categoryColors = {
                'Ø§Ù„Ø§Ø¯Ø§Ø±ÙŠâ€¬â€': '#8B4513',
                'â€«Ø§Ù„Ø¨ÙŠØ¦Ø©â€¬â€': '#28a745',
                'Ø§Ù„Ø¥Ø¹Ù„Ø§Ù…ÙŠ': '#007bff',
                'â€«Ø§Ù„Ù…Ø¬Ø§Ù„ Ø§Ù„Ø§Ø³Ø¹Ø§ÙÙŠâ€¬â€': '#dc3545',
                'â€«Ø§Ù„ØªØ¹Ù„ÙŠÙ…â€¬â€': '#ffc107',
                'â€«Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø§Øªâ€¬â€ â€«Ø§Ù„Ø§Ù†Ø³Ø§Ù†ÙŠØ©â€¬â€': '#000000'
            };

            const loadCurrentStatistics = async () => {
                try {
                    setLoading(true);
                    const result = await mockAPI.getCurrentStatistics();
                    if (result.success && result.data) {
                        setCurrentStatistics(result.data);
                    }
                } catch (error) {
                    console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:', error);
                } finally {
                    setLoading(false);
                }
            };

            useEffect(() => {
                loadCurrentStatistics();
            }, []);

            const getMonthName = (month) => {
                const months = {
                    1: 'ÙŠÙ†Ø§ÙŠØ±', 2: 'ÙØ¨Ø±Ø§ÙŠØ±', 3: 'Ù…Ø§Ø±Ø³', 4: 'Ø£Ø¨Ø±ÙŠÙ„',
                    5: 'Ù…Ø§ÙŠÙˆ', 6: 'ÙŠÙˆÙ†ÙŠÙˆ', 7: 'ÙŠÙˆÙ„ÙŠÙˆ', 8: 'Ø£ØºØ³Ø·Ø³',
                    9: 'Ø³Ø¨ØªÙ…Ø¨Ø±', 10: 'Ø£ÙƒØªÙˆØ¨Ø±', 11: 'Ù†ÙˆÙÙ…Ø¨Ø±', 12: 'Ø¯ÙŠØ³Ù…Ø¨Ø±'
                };
                return months[month] || month;
            };

            const getCityData = (city) => {
                if (statisticsData && statisticsData[city]) {
                    const cityData = statisticsData[city];
                    const categories = Array.isArray(cityData.data) ? cityData.data.map(item => ({
                        name: item.name,
                        value: item.value,
                        color: categoryColors[item.name] || '#6c757d'
                    })) : [];

                    return { 
                        totalVolunteers: cityData.totalVolunteers || 0, 
                        categories, 
                        details: cityData.details || [] 
                    };
                }

                if (currentStatistics && currentStatistics.data && currentStatistics.data[city]) {
                    const cityData = currentStatistics.data[city];
                    const categories = cityData.data ? cityData.data.map(item => ({
                        name: item.name,
                        value: item.value,
                        color: categoryColors[item.name] || '#6c757d'
                    })) : [];

                    return { 
                        totalVolunteers: cityData.totalVolunteers || 0, 
                        categories, 
                        details: cityData.details || [] 
                    };
                }

                return { totalVolunteers: 0, categories: [], details: [] };
            };

            if (loading) {
                return React.createElement('div', { className: 'flex items-center justify-center min-h-screen' },
                    React.createElement('div', { className: 'text-center' },
                        React.createElement('div', { className: 'animate-spin rounded-full h-32 w-32 border-b-2 border-red-600 mx-auto' }),
                        React.createElement('p', { className: 'mt-4 text-gray-600' }, 'Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª...')
                    )
                );
            }

            const hasData = currentStatistics && currentStatistics.data && Object.keys(currentStatistics.data).length > 0;

            return React.createElement('div', { className: 'max-w-7xl mx-auto' },
                React.createElement('div', { className: 'mb-8' },
                    React.createElement('h1', { className: 'text-3xl font-bold text-gray-900 mb-2' }, 'Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©'),
                    React.createElement('p', { className: 'text-gray-600' }, 'Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªØ·ÙˆØ¹ ÙÙŠ Ù…Ø­Ø§ÙØ¸Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©')
                ),
                React.createElement(Card, { className: 'mb-8' },
                    React.createElement(CardHeader, null,
                        React.createElement(CardTitle, null, 'Ø´Ø±Ø­ Ø§Ù„Ø£Ù„ÙˆØ§Ù†')
                    ),
                    React.createElement(CardContent, null,
                        React.createElement('div', { className: 'grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4' },
                            React.createElement('div', { className: 'flex items-center gap-2' },
                                React.createElement('div', { className: 'w-4 h-4 rounded-full', style: { backgroundColor: '#8B4513' } }),
                                React.createElement('span', { className: 'text-sm' }, 'Ø¥Ø¯Ø§Ø±ÙŠ')
                            ),
                            React.createElement('div', { className: 'flex items-center gap-2' },
                                React.createElement('div', { className: 'w-4 h-4 rounded-full', style: { backgroundColor: '#28a745' } }),
                                React.createElement('span', { className: 'text-sm' }, 'Ø¨ÙŠØ¦Ø©')
                            ),
                            React.createElement('div', { className: 'flex items-center gap-2' },
                                React.createElement('div', { className: 'w-4 h-4 rounded-full', style: { backgroundColor: '#007bff' } }),
                                React.createElement('span', { className: 'text-sm' }, 'Ø¥Ø¹Ù„Ø§Ù…ÙŠ')
                            ),
                            React.createElement('div', { className: 'flex items-center gap-2' },
                                React.createElement('div', { className: 'w-4 h-4 rounded-full', style: { backgroundColor: '#dc3545' } }),
                                React.createElement('span', { className: 'text-sm' }, 'Ø¥Ø³Ø¹Ø§ÙÙŠ')
                            ),
                            React.createElement('div', { className: 'flex items-center gap-2' },
                                React.createElement('div', { className: 'w-4 h-4 rounded-full', style: { backgroundColor: '#ffc107' } }),
                                React.createElement('span', { className: 'text-sm' }, 'ØªØ¹Ù„ÙŠÙ…')
                            ),
                            React.createElement('div', { className: 'flex items-center gap-2' },
                                React.createElement('div', { className: 'w-4 h-4 rounded-full', style: { backgroundColor: '#000000' } }),
                                React.createElement('span', { className: 'text-sm' }, 'Ø¥Ù†Ø³Ø§Ù†ÙŠ')
                            )
                        )
                    )
                ),
                React.createElement('h2', { className: 'text-xl text-gray-600 mb-4' }, 'Ù…Ø­Ø§ÙØ¸Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©'),
                React.createElement(LastUpdateTracker, {
                    lastUpdate: currentStatistics?.upload_date || currentStatistics?.last_modified,
                    totalVolunteers: currentStatistics?.total_volunteers,
                    period: currentStatistics ? `${getMonthName(currentStatistics.month)} ${currentStatistics.year}` : null,
                    isLoading: loading || isLoading
                }),
                React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6' },
                    cities.map((city) => {
                        const cityData = getCityData(city);
                        return React.createElement(CityCard, {
                            key: city,
                            city: city,
                            cityData: cityData,
                            onCitySelect: onCitySelect
                        });
                    })
                )
            );
        };

        // Simple CityDetails Component
        const CityDetails = ({ city, onBack, statisticsData, userRole, cityDetails }) => {
            return React.createElement('div', { className: 'space-y-6' },
                React.createElement('div', { className: 'flex items-center justify-between' },
                    React.createElement(Button, {
                        variant: 'outline',
                        onClick: onBack,
                        className: 'flex items-center space-x-2 space-x-reverse'
                    },
                        React.createElement(ArrowRight, { className: 'h-4 w-4' }),
                        React.createElement('span', null, 'Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©')
                    ),
                    React.createElement('div', { className: 'text-center' },
                        React.createElement('h1', { className: 'text-3xl font-bold text-gray-800' }, city),
                        React.createElement('p', { className: 'text-gray-600' }, 'ØªÙØ§ØµÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªØ·ÙˆØ¹')
                    ),
                    React.createElement('div', null)
                ),
                React.createElement(Card, null,
                    React.createElement(CardContent, { className: 'p-8 text-center' },
                        React.createElement('h2', { className: 'text-2xl font-bold text-gray-800 mb-4' }, `Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…Ø¯ÙŠÙ†Ø© ${city}`),
                        React.createElement('p', { className: 'text-gray-600 mb-6' }, 'ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ·ÙˆØ¹ÙŠØ©'),
                        statisticsData ? React.createElement('div', { className: 'bg-green-50 p-4 rounded-lg' },
                            React.createElement('p', { className: 'text-green-800' }, 'ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©')
                        ) : React.createElement('div', { className: 'bg-blue-50 p-4 rounded-lg' },
                            React.createElement('p', { className: 'text-blue-800' }, 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªØ§Ø­Ø© Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø­Ø§Ù„ÙŠØ§Ù‹')
                        )
                    )
                )
            );
        };

        // Simple FileUpload Component
        const FileUpload = ({ onDataUpload, userRole }) => {
            return React.createElement('div', { className: 'max-w-4xl mx-auto p-6' },
                React.createElement('div', { className: 'text-center mb-8' },
                    React.createElement('h1', { className: 'text-3xl font-bold text-gray-800 mb-2' }, 'Ø±ÙØ¹ Ù…Ù„ÙØ§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª'),
                    React.createElement('p', { className: 'text-gray-600' }, 'Ø±ÙØ¹ Ù…Ù„ÙØ§Øª Excel Ù…Ø¹ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª')
                ),
                React.createElement(Card, null,
                    React.createElement(CardContent, { className: 'p-8 text-center' },
                        React.createElement(Upload, { className: 'h-16 w-16 text-gray-400 mx-auto mb-4' }),
                        React.createElement('h2', { className: 'text-xl font-semibold text-gray-800 mb-2' }, 'Ø±ÙØ¹ Ù…Ù„Ù Excel'),
                        React.createElement('p', { className: 'text-gray-600 mb-6' }, 'Ø§Ø®ØªØ± Ù…Ù„Ù Excel ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªØ·ÙˆØ¹'),
                        React.createElement(Button, { className: 'bg-blue-600 hover:bg-blue-700' }, 'Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù')
                    )
                )
            );
        };

        // Simple TechnicalIssues Component
        const TechnicalIssues = ({ userRole }) => {
            return React.createElement('div', { className: 'max-w-4xl mx-auto p-6' },
                React.createElement('div', { className: 'text-center mb-8' },
                    React.createElement('h1', { className: 'text-3xl font-bold text-gray-800 mb-2' }, 'Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØªÙ‚Ù†ÙŠØ©'),
                    React.createElement('p', { className: 'text-gray-600' }, 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØªÙ‚Ù†ÙŠØ© ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±')
                ),
                React.createElement(Card, null,
                    React.createElement(CardContent, { className: 'p-8 text-center' },
                        React.createElement(AlertTriangle, { className: 'h-16 w-16 text-yellow-500 mx-auto mb-4' }),
                        React.createElement('h2', { className: 'text-xl font-semibold text-gray-800 mb-2' }, 'Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù† Ù…Ø´ÙƒÙ„Ø©'),
                        React.createElement('p', { className: 'text-gray-600 mb-6' }, 'ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù† Ø£ÙŠ Ù…Ø´Ø§ÙƒÙ„ ØªÙ‚Ù†ÙŠØ© ØªÙˆØ§Ø¬Ù‡Ù‡Ø§'),
                        React.createElement(Button, { className: 'bg-yellow-600 hover:bg-yellow-700' }, 'Ø¥Ø¨Ù„Ø§Øº Ø¹Ù† Ù…Ø´ÙƒÙ„Ø©')
                    )
                )
            );
        };

        // Simple UserManagement Component
        const UserManagement = () => {
            return React.createElement('div', { className: 'max-w-4xl mx-auto p-6' },
                React.createElement('div', { className: 'text-center mb-8' },
                    React.createElement('h1', { className: 'text-3xl font-bold text-gray-800 mb-2' }, 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª'),
                    React.createElement('p', { className: 'text-gray-600' }, 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª')
                ),
                React.createElement(Card, null,
                    React.createElement(CardContent, { className: 'p-8 text-center' },
                        React.createElement(Users, { className: 'h-16 w-16 text-blue-500 mx-auto mb-4' }),
                        React.createElement('h2', { className: 'text-xl font-semibold text-gray-800 mb-2' }, 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†'),
                        React.createElement('p', { className: 'text-gray-600 mb-6' }, 'Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†'),
                        React.createElement(Button, { className: 'bg-blue-600 hover:bg-blue-700' }, 'Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†')
                    )
                )
            );
        };

        // Main App Component
        const App = () => {
            const [currentUser, setCurrentUser] = useState(null);
            const [userRole, setUserRole] = useState(null);
            const [currentView, setCurrentView] = useState('dashboard');
            const [selectedCity, setSelectedCity] = useState(null);
            const [statisticsData, setStatisticsData] = useState({});
            const [isLoading, setIsLoading] = useState(false);

            const SITE_VERSION = 'SRCA 1.0';

            const handleLogin = (email, role) => {
                let userName = 'Ù…Ø³ØªØ®Ø¯Ù…';
                let roleName = 'Ù…Ø³ØªÙƒØ´Ù Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª';
                
                if (role === 'digital_admin') {
                    userName = 'WELLCOME';
                    roleName = 'Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©';
                } else if (role === 'tech_admin') {
                    userName = 'WELLCOME ';
                    roleName = 'Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠ Ø§Ù„ØªÙ‚Ù†ÙŠ';
                } else if (role === 'manager') {
                    userName = 'WELLCOME ';
                    roleName = 'Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠ';
                } else {
                    userName = email.split('@')[0];
                    roleName = 'Ù…Ø³ØªÙƒØ´Ù Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª';
                }
                
                setCurrentUser({ name: userName, role: roleName, email: email });
                setUserRole(role);
            };

            const handleLogout = () => {
                setCurrentUser(null);
                setUserRole(null);
                setCurrentView('dashboard');
                setSelectedCity(null);
            };

            const handleCitySelect = (city, cityDetails) => {
                console.log('City selected:', city, cityDetails);
                setSelectedCity({ name: city, details: cityDetails || [] });
                setCurrentView('cityDetails');
            };

            const handleViewChange = (view) => {
                setCurrentView(view);
                if (view === 'dashboard') {
                    setSelectedCity(null);
                }
            };

            const handleDataUpload = (newData) => {
                setStatisticsData(prevData => ({
                    ...prevData,
                    ...newData
                }));
            };

            if (!currentUser) {
                return React.createElement(Login, { onLogin: handleLogin, version: SITE_VERSION });
            }

            return React.createElement('div', { className: 'min-h-screen bg-gray-50' },
                React.createElement(Header, { user: currentUser, onLogout: handleLogout, version: SITE_VERSION }),
                React.createElement('div', { className: 'flex' },
                    React.createElement(Sidebar, { 
                        userRole: userRole, 
                        currentView: currentView,
                        onViewChange: handleViewChange
                    }),
                    React.createElement('main', { className: 'flex-1 mr-72 mt-16 p-6' },
                        currentView === 'dashboard' && React.createElement(Dashboard, { 
                            onCitySelect: handleCitySelect, 
                            statisticsData: statisticsData,
                            userRole: userRole,
                            isLoading: isLoading
                        }),
                        currentView === 'cityDetails' && selectedCity && React.createElement(CityDetails, { 
                            city: selectedCity.name, 
                            onBack: () => handleViewChange("dashboard"),
                            statisticsData: statisticsData[selectedCity.name] ? statisticsData[selectedCity.name].data : null,
                            userRole: userRole,
                            cityDetails: selectedCity.details
                        }),
                        (currentView === 'fileUpload' && (userRole === 'manager' || userRole === 'tech_admin' || userRole === 'digital_admin')) && React.createElement(FileUpload, { onDataUpload: handleDataUpload, userRole: userRole }),
                        (currentView === 'technicalIssues') && React.createElement(TechnicalIssues, { userRole: userRole }),
                        (currentView === 'accounts' && userRole === 'digital_admin') && React.createElement(UserManagement)
                    )
                ),
                React.createElement('div', { className: 'fixed bottom-0 left-0 right-0 bg-red-600 text-white text-center py-1 text-sm z-50' },
                    `${SITE_VERSION} - Ù…Ù†ØµØ© Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØªØ·ÙˆØ¹ Ø§Ù„Ù‡Ù„Ø§Ù„ Ø§Ù„Ø£Ø­Ù…Ø± - Ù…Ø­Ø§ÙØ¸Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©`
                )
            );
        };

        // Render the app
        ReactDOM.render(React.createElement(App), document.getElementById('root'));
    </script>
</body>
</html>